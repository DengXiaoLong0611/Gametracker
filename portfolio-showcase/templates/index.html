{% extends "base.html" %}

{% block title %}æˆ‘çš„ä½œå“é›† - å±•ç¤ºåˆ›ä½œä¹‹ç¾{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section bg-gradient-primary text-white py-5">
    <div class="container py-5">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">
                    æ¬¢è¿æ¥åˆ°æˆ‘çš„
                    <span class="text-warning">åˆ›ä½œä¸–ç•Œ</span>
                </h1>
                <p class="lead mb-4">
                    åœ¨è¿™é‡Œï¼Œæˆ‘åˆ†äº«æˆ‘çš„æ‘„å½±ä½œå“ã€è®¾è®¡åˆ›æ„ã€æ–‡å­—åˆ›ä½œå’Œå„ç§é¡¹ç›®ã€‚
                    æ¯ä¸€ä¸ªä½œå“éƒ½æ‰¿è½½ç€ç‹¬ç‰¹çš„æ•…äº‹å’Œåˆ›ä½œçµæ„Ÿã€‚
                </p>
                <div class="d-flex gap-3">
                    <a href="/works" class="btn btn-warning btn-lg px-4">
                        <i class="fas fa-eye me-2"></i>æµè§ˆä½œå“
                    </a>
                    <a href="/about" class="btn btn-outline-light btn-lg px-4">
                        <i class="fas fa-user me-2"></i>äº†è§£æˆ‘
                    </a>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <div class="hero-image-wrapper">
                    <img src="/static/images/hero-image.jpg" alt="ä½œå“å±•ç¤º" class="img-fluid rounded-3 shadow-lg" style="max-height: 400px;">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section py-5 bg-light">
    <div class="container">
        <div class="row text-center" id="stats-row">
            <div class="col-md-3 col-6 mb-4">
                <div class="stat-item">
                    <i class="fas fa-images fa-3x text-primary mb-3"></i>
                    <h3 class="fw-bold mb-1" data-counter="0">{{ recent_works|length }}</h3>
                    <p class="text-muted mb-0">åˆ›ä½œä½œå“</p>
                </div>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="stat-item">
                    <i class="fas fa-tags fa-3x text-success mb-3"></i>
                    <h3 class="fw-bold mb-1" data-counter="0">{{ categories|length }}</h3>
                    <p class="text-muted mb-0">ä½œå“åˆ†ç±»</p>
                </div>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="stat-item">
                    <i class="fas fa-star fa-3x text-warning mb-3"></i>
                    <h3 class="fw-bold mb-1" data-counter="0">{{ featured_works|length }}</h3>
                    <p class="text-muted mb-0">ç²¾é€‰ä½œå“</p>
                </div>
            </div>
            <div class="col-md-3 col-6 mb-4">
                <div class="stat-item">
                    <i class="fas fa-heart fa-3x text-danger mb-3"></i>
                    <h3 class="fw-bold mb-1" data-counter="0">1000</h3>
                    <p class="text-muted mb-0">è·å¾—å–œæ¬¢</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Works -->
{% if featured_works %}
<section class="featured-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="display-6 fw-bold mb-3">
                    <i class="fas fa-star text-warning me-3"></i>
                    ç²¾é€‰ä½œå“
                </h2>
                <p class="lead text-muted">
                    è¿™äº›æ˜¯æˆ‘æœ€æ»¡æ„å’Œæœ€å…·ä»£è¡¨æ€§çš„ä½œå“
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            {% for work in featured_works %}
            <div class="col-lg-4 col-md-6">
                <div class="work-card card h-100 border-0 shadow-hover">
                    <div class="work-image-wrapper position-relative overflow-hidden">
                        {% if work.thumbnail_path %}
                            <img src="{{ work.thumbnail_path }}" class="card-img-top work-image" alt="{{ work.title }}">
                        {% else %}
                            <div class="placeholder-image d-flex align-items-center justify-content-center bg-light">
                                <i class="fas fa-image fa-3x text-muted"></i>
                            </div>
                        {% endif %}
                        
                        <!-- Overlay -->
                        <div class="work-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center">
                            <div class="text-center text-white">
                                <a href="/work/{{ work.id }}" class="btn btn-primary btn-sm mb-2">
                                    <i class="fas fa-eye me-1"></i>æŸ¥çœ‹è¯¦æƒ…
                                </a>
                                <div class="work-stats d-flex justify-content-center gap-3 small">
                                    <span><i class="fas fa-eye me-1"></i>{{ work.view_count }}</span>
                                    <span><i class="fas fa-heart me-1"></i>{{ work.like_count }}</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Work Type Badge -->
                        <div class="position-absolute top-0 end-0 p-2">
                            <span class="badge bg-primary">
                                {% if work.work_type.value == 'photo' %}ğŸ“¸ æ‘„å½±
                                {% elif work.work_type.value == 'text' %}ğŸ“ æ–‡å­—
                                {% elif work.work_type.value == 'video' %}ğŸ¬ è§†é¢‘
                                {% elif work.work_type.value == 'audio' %}ğŸµ éŸ³é¢‘
                                {% else %}ğŸ¨ å…¶ä»–
                                {% endif %}
                            </span>
                        </div>
                    </div>
                    
                    <div class="card-body">
                        <h5 class="card-title fw-bold mb-2">{{ work.title }}</h5>
                        {% if work.description %}
                            <p class="card-text text-muted small">{{ work.description[:100] }}...</p>
                        {% endif %}
                        
                        <div class="d-flex align-items-center justify-content-between small text-muted">
                            <span>
                                <i class="fas fa-calendar me-1"></i>
                                {{ work.created_at.strftime('%Y-%m-%d') }}
                            </span>
                            <span class="badge bg-success">ç²¾é€‰</span>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="/works?featured=true" class="btn btn-outline-primary btn-lg">
                <i class="fas fa-plus me-2"></i>æŸ¥çœ‹æ›´å¤šç²¾é€‰ä½œå“
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Categories Section -->
<section class="categories-section py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="display-6 fw-bold mb-3">
                    <i class="fas fa-th-large text-primary me-3"></i>
                    ä½œå“åˆ†ç±»
                </h2>
                <p class="lead text-muted">
                    æŒ‰ç±»å‹æµè§ˆæˆ‘çš„ä¸åŒåˆ›ä½œé¢†åŸŸ
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            {% for category in categories %}
            <div class="col-lg-3 col-md-6">
                <a href="/works?category={{ category.name }}" class="text-decoration-none">
                    <div class="category-card card h-100 border-0 shadow-hover">
                        <div class="card-body text-center p-4">
                            <div class="category-icon mb-3" style="color: {{ category.color }};">
                                <i class="fas fa-folder fa-3x"></i>
                            </div>
                            <h5 class="card-title fw-bold mb-2">{{ category.name }}</h5>
                            {% if category.description %}
                                <p class="card-text text-muted small">{{ category.description }}</p>
                            {% endif %}
                            <div class="mt-3">
                                <span class="badge rounded-pill" style="background-color: {{ category.color }};">
                                    æŸ¥çœ‹ä½œå“
                                </span>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Recent Works -->
<section class="recent-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="display-6 fw-bold mb-3">
                    <i class="fas fa-clock text-info me-3"></i>
                    æœ€æ–°ä½œå“
                </h2>
                <p class="lead text-muted">
                    æœ€è¿‘åˆ›ä½œå’Œæ›´æ–°çš„ä½œå“
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            {% for work in recent_works[:8] %}
            <div class="col-lg-3 col-md-4 col-sm-6">
                <div class="recent-work-card card h-100 border-0 shadow-sm">
                    <div class="work-image-wrapper position-relative overflow-hidden">
                        {% if work.thumbnail_path %}
                            <img src="{{ work.thumbnail_path }}" class="card-img-top" alt="{{ work.title }}" style="height: 200px; object-fit: cover;">
                        {% else %}
                            <div class="placeholder-image d-flex align-items-center justify-content-center bg-light" style="height: 200px;">
                                <i class="fas fa-image fa-2x text-muted"></i>
                            </div>
                        {% endif %}
                        
                        <div class="work-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center">
                            <a href="/work/{{ work.id }}" class="btn btn-primary btn-sm">
                                <i class="fas fa-eye me-1"></i>æŸ¥çœ‹
                            </a>
                        </div>
                    </div>
                    
                    <div class="card-body p-3">
                        <h6 class="card-title fw-bold mb-1">{{ work.title }}</h6>
                        <small class="text-muted">
                            <i class="fas fa-calendar me-1"></i>
                            {{ work.created_at.strftime('%Y-%m-%d') }}
                        </small>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="/works" class="btn btn-primary btn-lg">
                <i class="fas fa-th me-2"></i>æŸ¥çœ‹æ‰€æœ‰ä½œå“
            </a>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section py-5 bg-primary text-white">
    <div class="container text-center">
        <div class="row">
            <div class="col-lg-8 mx-auto">
                <h2 class="display-6 fw-bold mb-4">
                    å–œæ¬¢æˆ‘çš„ä½œå“ï¼Ÿ
                </h2>
                <p class="lead mb-4">
                    å¦‚æœæ‚¨å¯¹æˆ‘çš„ä½œå“æ„Ÿå…´è¶£ï¼Œæˆ–è€…æœ‰ä»»ä½•åˆä½œæ„å‘ï¼Œæ¬¢è¿éšæ—¶ä¸æˆ‘è”ç³»ã€‚
                </p>
                <div class="d-flex gap-3 justify-content-center flex-wrap">
                    <a href="/contact" class="btn btn-warning btn-lg">
                        <i class="fas fa-envelope me-2"></i>è”ç³»æˆ‘
                    </a>
                    <a href="/about" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-user me-2"></i>äº†è§£æ›´å¤š
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
.hero-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

.work-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.work-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

.work-image-wrapper {
    height: 250px;
    position: relative;
}

.work-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.work-overlay {
    background: rgba(0,0,0,0.7);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.work-card:hover .work-overlay {
    opacity: 1;
}

.work-card:hover .work-image {
    transform: scale(1.1);
}

.category-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.category-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.1);
}

.stat-item {
    padding: 2rem 1rem;
}

.placeholder-image {
    height: 250px;
    background-color: #f8f9fa;
}

.shadow-hover:hover {
    box-shadow: 0 8px 25px rgba(0,0,0,0.15) !important;
}
</style>
{% endblock %}

{% block extra_js %}
<script>
// Counter Animation
function animateCounters() {
    const counters = document.querySelectorAll('[data-counter]');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const counter = entry.target;
                const target = parseInt(counter.getAttribute('data-counter')) || parseInt(counter.textContent);
                let count = 0;
                const speed = Math.ceil(target / 100);
                
                const updateCount = () => {
                    if (count < target) {
                        count += speed;
                        counter.textContent = Math.min(count, target);
                        requestAnimationFrame(updateCount);
                    } else {
                        counter.textContent = target;
                    }
                };
                
                updateCount();
                observer.unobserve(counter);
            }
        });
    });
    
    counters.forEach(counter => {
        observer.observe(counter);
    });
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    animateCounters();
});
</script>
{% endblock %}